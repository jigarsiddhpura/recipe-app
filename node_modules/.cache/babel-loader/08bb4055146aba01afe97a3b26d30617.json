{"ast":null,"code":"import _regeneratorRuntime from\"D:/Frontend-tasks/task 2/sign-up/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"D:/Frontend-tasks/task 2/sign-up/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _defineProperty from\"D:/Frontend-tasks/task 2/sign-up/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"D:/Frontend-tasks/task 2/sign-up/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"D:/Frontend-tasks/task 2/sign-up/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from\"react\";import{Link}from\"react-router-dom\";// import changePg from './index';\nimport{Grid,Paper,Avatar,TextField,FormControlLabel,Checkbox,Button,Typography}from\"@mui/material\";import LockIcon from\"@mui/icons-material/Lock\";import axios from'axios';import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";var Login=function Login(){var paperStyle={padding:20,height:\"70vh\",width:\"400px\",margin:\"20px auto\"};var avatarStyle={backgroundColor:\"green\"};var textFieldStyle={margin:\"10px\"};var checkboxStyle={position:\"relative\",right:\"28%\"};var btnStyle={margin:'5px  '};var errorStyle={display:\"flex\",align:\"left\",margin:'-1px',color:'red'};var initialValues={email:\"\",password:\"\"};var _useState=useState(initialValues),_useState2=_slicedToArray(_useState,2),formValues=_useState2[0],setFormValues=_useState2[1];var _useState3=useState({}),_useState4=_slicedToArray(_useState3,2),formErrors=_useState4[0],setFormErrors=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),isSubmit=_useState6[0],setIsSubmit=_useState6[1];var handleChange=function handleChange(e){var _e$target=e.target,name=_e$target.name,value=_e$target.value;setFormValues(_objectSpread(_objectSpread({},formValues),{},_defineProperty({},name,value)));};var handleSubmit=function handleSubmit(e){e.preventDefault();postData();setFormErrors(validateForm(formValues));setIsSubmit(true);};useEffect(function(){console.log(formErrors);if(Object.keys(formErrors).length===0&&isSubmit){console.log(formValues);}},[formErrors]);var validateForm=function validateForm(formValues){var errors={};var regex_password=/^(?=.*[A-Za-z])(?=.*\\d)(?=.*[@$!%*#?&])[A-Za-z\\d@$!%*#?&]{8,}$/;if(!formValues.email){errors.email='Email is required!';}if(!formValues.password){errors.password='Password is required!';}else if(!formValues.password.match(regex_password)){errors.password='Password must contain min 8 characters, 1 uppercase, 1 lowercase & 1 number';}return errors;};var postData=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:try{axios.post('https://therecipepool.pythonanywhere.com/account/login/',{\"email\":formValues.email,\"password\":formValues.password}).then(function(response){return console.log(\"posting data ...\",response);}).catch(function(err){return console.log(err);});}catch(err){console.log(\"error is\",err);}case 1:case\"end\":return _context.stop();}}},_callee);}));return function postData(){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsx(Grid,{children:/*#__PURE__*/_jsxs(\"form\",{children:[/*#__PURE__*/_jsxs(\"pre\",{children:[\" \",JSON.stringify(formValues),\" \"]}),/*#__PURE__*/_jsx(Paper,{elevation:10,style:paperStyle,children:/*#__PURE__*/_jsxs(Grid,{align:\"center\",children:[/*#__PURE__*/_jsx(Avatar,{style:avatarStyle,children:/*#__PURE__*/_jsx(LockIcon,{})}),/*#__PURE__*/_jsx(\"h2\",{children:\"Sign In\"}),/*#__PURE__*/_jsx(TextField,{id:\"outlined-basic\",label:\"Email\",placeholder:\"Enter Email\",variant:\"outlined\",fullWidth:true,required:true,style:textFieldStyle,name:\"email\",onChange:handleChange,value:formValues.email}),/*#__PURE__*/_jsx(\"p\",{style:errorStyle,children:formErrors.username}),/*#__PURE__*/_jsx(TextField,{id:\"outlined-basic\",label:\"Password\",placeholder:\"Enter password\",type:\"password\",variant:\"outlined\",fullWidth:true,required:true,style:textFieldStyle,name:\"password\",onChange:handleChange,value:formValues.password}),/*#__PURE__*/_jsx(\"p\",{style:errorStyle,children:formErrors.password}),/*#__PURE__*/_jsx(FormControlLabel,{control:/*#__PURE__*/_jsx(Checkbox,{color:\"success\"}),label:\"Remember me\",style:checkboxStyle}),/*#__PURE__*/_jsx(Button,{variant:\"contained\",color:\"success\",style:btnStyle,fullWidth:true,onClick:handleSubmit,children:\"SIGN IN\"}),/*#__PURE__*/_jsx(Typography,{children:/*#__PURE__*/_jsx(Link,{to:\"#\",underline:\"hover\",children:\"Forgot password ?\"})}),/*#__PURE__*/_jsxs(Typography,{children:[\"Do you have an account ?\",/*#__PURE__*/_jsx(Link,{to:\"/signup\",underline:\"hover \",children:\"Sign Up\"})]})]})})]})});};export default Login;","map":{"version":3,"names":["React","useState","useEffect","Link","Grid","Paper","Avatar","TextField","FormControlLabel","Checkbox","Button","Typography","LockIcon","axios","Login","paperStyle","padding","height","width","margin","avatarStyle","backgroundColor","textFieldStyle","checkboxStyle","position","right","btnStyle","errorStyle","display","align","color","initialValues","email","password","formValues","setFormValues","formErrors","setFormErrors","isSubmit","setIsSubmit","handleChange","e","target","name","value","handleSubmit","preventDefault","postData","validateForm","console","log","Object","keys","length","errors","regex_password","match","post","then","response","catch","err","JSON","stringify","username"],"sources":["D:/Frontend-tasks/task 2/sign-up/src/Components/login.js"],"sourcesContent":["import React , { useState, useEffect } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\n// import changePg from './index';\r\nimport {\r\n  Grid,\r\n  Paper,\r\n  Avatar,\r\n  TextField,\r\n  FormControlLabel,\r\n  Checkbox,\r\n  Button,\r\n  Typography,\r\n} from \"@mui/material\";\r\nimport LockIcon from \"@mui/icons-material/Lock\";\r\nimport axios from 'axios';\r\n\r\nconst Login = () => {\r\n  const paperStyle = {\r\n    padding: 20,\r\n    height: \"70vh\",\r\n    width: \"400px\",\r\n    margin: \"20px auto\",\r\n  };\r\n  const avatarStyle = { backgroundColor: \"green\" };\r\n  const textFieldStyle = { margin: \"10px\" };\r\n  const checkboxStyle = { position: \"relative\", right: \"28%\" };\r\n  const btnStyle = {margin:'5px  '}\r\n  const errorStyle = {display:\"flex\" , align:\"left\" ,margin:'-1px', color:'red' }\r\n\r\n  const initialValues = {email:\"\",  password:\"\"};\r\n\r\n  const [formValues , setFormValues] = useState(initialValues);\r\n  const [formErrors , setFormErrors] = useState({});\r\n  const [isSubmit , setIsSubmit] = useState(false);\r\n\r\n  const handleChange = (e) => {\r\n    const {name , value} = e.target;\r\n    setFormValues({...formValues , [name]: value});\r\n  };\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    postData();\r\n    setFormErrors(validateForm(formValues));\r\n    setIsSubmit(true);\r\n  };\r\n\r\n  useEffect(() => {\r\n    console.log(formErrors);\r\n    if(Object.keys(formErrors).length === 0 && isSubmit){\r\n      console.log(formValues);\r\n    }\r\n  }, [formErrors])\r\n\r\n  const validateForm = (formValues) => {\r\n    const errors = {};\r\n    const regex_password = /^(?=.*[A-Za-z])(?=.*\\d)(?=.*[@$!%*#?&])[A-Za-z\\d@$!%*#?&]{8,}$/;\r\n    if(!formValues.email) {\r\n      errors.email = 'Email is required!';\r\n    }\r\n    if(!formValues.password) {\r\n      errors.password = 'Password is required!';\r\n    }\r\n    else if(!formValues.password.match(regex_password)){\r\n      errors.password = 'Password must contain min 8 characters, 1 uppercase, 1 lowercase & 1 number';\r\n    }\r\n    return errors;\r\n    \r\n  };\r\n\r\n  const postData = async () => {\r\n    try{\r\n      axios.post('https://therecipepool.pythonanywhere.com/account/login/' , {\r\n        \"email\" : formValues.email ,\r\n        \"password\" : formValues.password \r\n      })\r\n      .then(response => console.log(\"posting data ...\",response))\r\n      .catch(err => console.log(err))\r\n    }\r\n    catch(err){\r\n      console.log(\"error is\",err);\r\n    }\r\n  }\r\n\r\n  return (\r\n    <Grid>\r\n      <form>\r\n      <pre> {JSON.stringify(formValues)} </pre>\r\n      \r\n      <Paper elevation={10} style={paperStyle}>\r\n        <Grid align=\"center\">\r\n          <Avatar style={avatarStyle}>\r\n            <LockIcon />\r\n          </Avatar>\r\n          <h2>Sign In</h2>\r\n\r\n          <TextField\r\n            id=\"outlined-basic\"\r\n            label=\"Email\"\r\n            placeholder=\"Enter Email\"\r\n            variant=\"outlined\"\r\n            fullWidth\r\n            required\r\n            style={textFieldStyle}\r\n            name='email'\r\n            onChange={handleChange}\r\n            value={formValues.email}\r\n          />\r\n          <p style={errorStyle}>{formErrors.username}</p>\r\n          <TextField\r\n            id=\"outlined-basic\"\r\n            label=\"Password\"\r\n            placeholder=\"Enter password\"\r\n            type=\"password\"\r\n            variant=\"outlined\"\r\n            fullWidth\r\n            required\r\n            style={textFieldStyle}\r\n            name='password'\r\n            onChange={handleChange}\r\n            value={formValues.password}\r\n          />\r\n          <p style={errorStyle}>{formErrors.password}</p>\r\n\r\n          <FormControlLabel\r\n            control={<Checkbox color=\"success\" />}\r\n            label=\"Remember me\"\r\n            style={checkboxStyle}\r\n          />\r\n\r\n          <Button variant=\"contained\" \r\n          color=\"success\"\r\n          style={btnStyle} \r\n          fullWidth \r\n          onClick={handleSubmit}>\r\n            SIGN IN\r\n          </Button>\r\n\r\n        <Typography>\r\n          <Link to=\"#\" underline=\"hover\">\r\n            Forgot password ?\r\n          </Link>\r\n          </Typography>\r\n\r\n        <Typography>\r\n          Do you have an account ? \r\n          <Link to=\"/signup\" underline=\"hover \">\r\n            Sign Up\r\n          </Link>\r\n          </Typography>\r\n        </Grid>\r\n      </Paper>\r\n      </form>\r\n    </Grid>\r\n  )\r\n}\r\nexport default Login;\r\n"],"mappings":"+lBAAA,MAAOA,MAAK,EAAKC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CACnD,OAASC,IAAI,KAAQ,kBAAkB,CAEvC;AACA,OACEC,IAAI,CACJC,KAAK,CACLC,MAAM,CACNC,SAAS,CACTC,gBAAgB,CAChBC,QAAQ,CACRC,MAAM,CACNC,UAAU,KACL,eAAe,CACtB,MAAOC,SAAQ,KAAM,0BAA0B,CAC/C,MAAOC,MAAK,KAAM,OAAO,CAAC,wFAE1B,GAAMC,MAAK,CAAG,QAARA,MAAK,EAAS,CAClB,GAAMC,WAAU,CAAG,CACjBC,OAAO,CAAE,EAAE,CACXC,MAAM,CAAE,MAAM,CACdC,KAAK,CAAE,OAAO,CACdC,MAAM,CAAE,WACV,CAAC,CACD,GAAMC,YAAW,CAAG,CAAEC,eAAe,CAAE,OAAQ,CAAC,CAChD,GAAMC,eAAc,CAAG,CAAEH,MAAM,CAAE,MAAO,CAAC,CACzC,GAAMI,cAAa,CAAG,CAAEC,QAAQ,CAAE,UAAU,CAAEC,KAAK,CAAE,KAAM,CAAC,CAC5D,GAAMC,SAAQ,CAAG,CAACP,MAAM,CAAC,OAAO,CAAC,CACjC,GAAMQ,WAAU,CAAG,CAACC,OAAO,CAAC,MAAM,CAAGC,KAAK,CAAC,MAAM,CAAEV,MAAM,CAAC,MAAM,CAAEW,KAAK,CAAC,KAAM,CAAC,CAE/E,GAAMC,cAAa,CAAG,CAACC,KAAK,CAAC,EAAE,CAAGC,QAAQ,CAAC,EAAE,CAAC,CAE9C,cAAqChC,QAAQ,CAAC8B,aAAa,CAAC,wCAArDG,UAAU,eAAGC,aAAa,eACjC,eAAqClC,QAAQ,CAAC,CAAC,CAAC,CAAC,yCAA1CmC,UAAU,eAAGC,aAAa,eACjC,eAAiCpC,QAAQ,CAAC,KAAK,CAAC,yCAAzCqC,QAAQ,eAAGC,WAAW,eAE7B,GAAMC,aAAY,CAAG,QAAfA,aAAY,CAAIC,CAAC,CAAK,CAC1B,cAAuBA,CAAC,CAACC,MAAM,CAAxBC,IAAI,WAAJA,IAAI,CAAGC,KAAK,WAALA,KAAK,CACnBT,aAAa,gCAAKD,UAAU,wBAAIS,IAAI,CAAGC,KAAK,GAAE,CAChD,CAAC,CAED,GAAMC,aAAY,CAAG,QAAfA,aAAY,CAAIJ,CAAC,CAAK,CAC1BA,CAAC,CAACK,cAAc,EAAE,CAClBC,QAAQ,EAAE,CACVV,aAAa,CAACW,YAAY,CAACd,UAAU,CAAC,CAAC,CACvCK,WAAW,CAAC,IAAI,CAAC,CACnB,CAAC,CAEDrC,SAAS,CAAC,UAAM,CACd+C,OAAO,CAACC,GAAG,CAACd,UAAU,CAAC,CACvB,GAAGe,MAAM,CAACC,IAAI,CAAChB,UAAU,CAAC,CAACiB,MAAM,GAAK,CAAC,EAAIf,QAAQ,CAAC,CAClDW,OAAO,CAACC,GAAG,CAAChB,UAAU,CAAC,CACzB,CACF,CAAC,CAAE,CAACE,UAAU,CAAC,CAAC,CAEhB,GAAMY,aAAY,CAAG,QAAfA,aAAY,CAAId,UAAU,CAAK,CACnC,GAAMoB,OAAM,CAAG,CAAC,CAAC,CACjB,GAAMC,eAAc,CAAG,gEAAgE,CACvF,GAAG,CAACrB,UAAU,CAACF,KAAK,CAAE,CACpBsB,MAAM,CAACtB,KAAK,CAAG,oBAAoB,CACrC,CACA,GAAG,CAACE,UAAU,CAACD,QAAQ,CAAE,CACvBqB,MAAM,CAACrB,QAAQ,CAAG,uBAAuB,CAC3C,CAAC,IACI,IAAG,CAACC,UAAU,CAACD,QAAQ,CAACuB,KAAK,CAACD,cAAc,CAAC,CAAC,CACjDD,MAAM,CAACrB,QAAQ,CAAG,6EAA6E,CACjG,CACA,MAAOqB,OAAM,CAEf,CAAC,CAED,GAAMP,SAAQ,4FAAG,qIACf,GAAG,CACDlC,KAAK,CAAC4C,IAAI,CAAC,yDAAyD,CAAG,CACrE,OAAO,CAAGvB,UAAU,CAACF,KAAK,CAC1B,UAAU,CAAGE,UAAU,CAACD,QAC1B,CAAC,CAAC,CACDyB,IAAI,CAAC,SAAAC,QAAQ,QAAIV,QAAO,CAACC,GAAG,CAAC,kBAAkB,CAACS,QAAQ,CAAC,GAAC,CAC1DC,KAAK,CAAC,SAAAC,GAAG,QAAIZ,QAAO,CAACC,GAAG,CAACW,GAAG,CAAC,GAAC,CACjC,CACA,MAAMA,GAAG,CAAC,CACRZ,OAAO,CAACC,GAAG,CAAC,UAAU,CAACW,GAAG,CAAC,CAC7B,CAAC,sDACF,kBAZKd,SAAQ,0CAYb,CAED,mBACE,KAAC,IAAI,wBACH,qCACA,2BAAOe,IAAI,CAACC,SAAS,CAAC7B,UAAU,CAAC,OAAQ,cAEzC,KAAC,KAAK,EAAC,SAAS,CAAE,EAAG,CAAC,KAAK,CAAEnB,UAAW,uBACtC,MAAC,IAAI,EAAC,KAAK,CAAC,QAAQ,wBAClB,KAAC,MAAM,EAAC,KAAK,CAAEK,WAAY,uBACzB,KAAC,QAAQ,IAAG,EACL,cACT,+BAAgB,cAEhB,KAAC,SAAS,EACR,EAAE,CAAC,gBAAgB,CACnB,KAAK,CAAC,OAAO,CACb,WAAW,CAAC,aAAa,CACzB,OAAO,CAAC,UAAU,CAClB,SAAS,MACT,QAAQ,MACR,KAAK,CAAEE,cAAe,CACtB,IAAI,CAAC,OAAO,CACZ,QAAQ,CAAEkB,YAAa,CACvB,KAAK,CAAEN,UAAU,CAACF,KAAM,EACxB,cACF,UAAG,KAAK,CAAEL,UAAW,UAAES,UAAU,CAAC4B,QAAQ,EAAK,cAC/C,KAAC,SAAS,EACR,EAAE,CAAC,gBAAgB,CACnB,KAAK,CAAC,UAAU,CAChB,WAAW,CAAC,gBAAgB,CAC5B,IAAI,CAAC,UAAU,CACf,OAAO,CAAC,UAAU,CAClB,SAAS,MACT,QAAQ,MACR,KAAK,CAAE1C,cAAe,CACtB,IAAI,CAAC,UAAU,CACf,QAAQ,CAAEkB,YAAa,CACvB,KAAK,CAAEN,UAAU,CAACD,QAAS,EAC3B,cACF,UAAG,KAAK,CAAEN,UAAW,UAAES,UAAU,CAACH,QAAQ,EAAK,cAE/C,KAAC,gBAAgB,EACf,OAAO,cAAE,KAAC,QAAQ,EAAC,KAAK,CAAC,SAAS,EAAI,CACtC,KAAK,CAAC,aAAa,CACnB,KAAK,CAAEV,aAAc,EACrB,cAEF,KAAC,MAAM,EAAC,OAAO,CAAC,WAAW,CAC3B,KAAK,CAAC,SAAS,CACf,KAAK,CAAEG,QAAS,CAChB,SAAS,MACT,OAAO,CAAEmB,YAAa,qBAEb,cAEX,KAAC,UAAU,wBACT,KAAC,IAAI,EAAC,EAAE,CAAC,GAAG,CAAC,SAAS,CAAC,OAAO,+BAEvB,EACM,cAEf,MAAC,UAAU,oDAET,KAAC,IAAI,EAAC,EAAE,CAAC,SAAS,CAAC,SAAS,CAAC,QAAQ,qBAE9B,GACM,GACR,EACD,GACD,EACF,CAEX,CAAC,CACD,cAAe/B,MAAK"},"metadata":{},"sourceType":"module"}